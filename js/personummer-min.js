var fixedPersonnummer, len; function addDash(e) { return pos = e.length - 4, returnWithDash = insert(e, pos, "-"), returnWithDash } function removeDash(e) { return returnWithoutDash = e.replace("-", ""), returnWithoutDash } function insert(e, r, n) { return e.substr(0, r) + n + e.substr(r) } function addCentuary(e) { e.length < 11 && (pernumCentuary = e.substring(0, 2)), e.length > 11 && (pernumCentuary = e.substring(2, 4)); (new Date).getFullYear().toString().substring(0, 2); var r = "20" + pernumCentuary, n = "20" + n; return parseInt(r) > parseInt(n) ? addedCentuaryString = "19" + e : addedCentuaryString = "20" + e, addedCentuaryString } function removeCentuary(e) { return removedCentuary = e.substring(2, e.length), removedCentuary } function fixPersonnummer(e, r) { var n = e.length; return 13 === n && 10 === parseInt(r) && (removeStreck = removeDash(e), fixedPersonnummer = removeCentuary(removeStreck)), 13 === n && 11 === parseInt(r) && (fixedPersonnummer = removeCentuary(e)), 13 === n && 12 === parseInt(r) && (fixedPersonnummer = removeDash(e)), 11 === n && 10 === parseInt(r) && (fixedPersonnummer = removeDash(e)), 10 === n && 11 === parseInt(r) && (fixedPersonnummer = addDash(e)), 10 === n && 12 === parseInt(r) && (fixedPersonnummer = addCentuary(e)), 11 === n && 12 === parseInt(r) && (addStreck = removeDash(e), fixedPersonnummer = addCentuary(addStreck)), 11 === n && 13 === parseInt(r) && (fixedPersonnummer = addCentuary(e)), 10 === n && 13 === parseInt(r) && (addYear = addCentuary(e), fixedPersonnummer = addDash(addYear)), 12 === n && 10 === parseInt(r) && (fixedPersonnummer = removeCentuary(e)), 12 === n && 13 === parseInt(r) && (fixedPersonnummer = addDash(e)), fixedPersonnummer }